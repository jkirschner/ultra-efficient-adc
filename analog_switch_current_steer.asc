Version 4
SHEET 1 2628 980
WIRE 272 -576 224 -576
WIRE 512 -576 272 -576
WIRE 1072 -576 1008 -576
WIRE 1264 -560 1232 -560
WIRE 1472 -560 1264 -560
WIRE 832 -448 816 -448
WIRE 1008 -448 1008 -576
WIRE 1008 -448 960 -448
WIRE 512 -384 512 -576
WIRE 560 -384 512 -384
WIRE 752 -368 720 -368
WIRE 1472 -368 1472 -560
WIRE 1520 -368 1472 -368
WIRE 512 -352 224 -352
WIRE 560 -352 512 -352
WIRE 1008 -352 1008 -448
WIRE 1072 -352 1008 -352
WIRE 1712 -352 1680 -352
WIRE 1472 -336 1232 -336
WIRE 1520 -336 1472 -336
WIRE 592 -64 592 -208
WIRE 592 -64 368 -64
WIRE 848 -64 592 -64
WIRE 1568 -64 1568 -224
WIRE 1568 -64 1344 -64
WIRE 1808 -64 1568 -64
WIRE 368 -16 368 -64
WIRE 592 -16 592 -64
WIRE 848 -16 848 -64
WIRE 1344 -16 1344 -64
WIRE 1568 -16 1568 -64
WIRE 1808 -16 1808 -64
WIRE 272 48 272 -576
WIRE 304 48 272 48
WIRE 512 48 512 -352
WIRE 528 48 512 48
WIRE 752 48 752 -368
WIRE 784 48 752 48
WIRE 1264 48 1264 -560
WIRE 1280 48 1264 48
WIRE 1472 48 1472 -336
WIRE 1504 48 1472 48
WIRE 1712 48 1712 -352
WIRE 1744 48 1712 48
WIRE 368 144 368 112
WIRE 784 144 368 144
WIRE 1344 144 1344 112
WIRE 1344 144 784 144
WIRE 592 176 592 112
WIRE 928 176 592 176
WIRE 1568 176 1568 112
WIRE 1568 176 928 176
WIRE 848 208 848 112
WIRE 1216 208 848 208
WIRE 1808 208 1808 112
WIRE 1808 208 1216 208
WIRE 784 272 784 144
WIRE 784 272 736 272
WIRE 928 272 928 176
WIRE 976 272 928 272
WIRE 784 336 784 272
WIRE 784 336 640 336
WIRE 928 336 928 272
WIRE 1040 336 928 336
WIRE 784 368 784 336
WIRE 928 368 928 336
WIRE 784 464 784 432
WIRE 928 464 928 432
WIRE 1216 464 1216 208
FLAG 368 48 pos
FLAG 592 48 pos
FLAG 1344 48 pos
FLAG 1568 48 pos
FLAG 1808 48 pos
FLAG 816 -448 Iin?
FLAG 576 400 CLC1
FLAG 1104 400 CLC2
FLAG 848 48 pos
FLAG 640 464 neg
FLAG 784 464 neg
FLAG 928 464 neg
FLAG 1040 464 neg
FLAG 640 400 neg
FLAG 1040 400 neg
FLAG 1216 464 neg
FLAG 64 -560 C1?
FLAG 64 -592 Iin?
FLAG 144 -624 pos
FLAG 144 -528 neg
FLAG 896 -400 neg
FLAG 896 -496 pos
FLAG 64 -336 C2?
FLAG 64 -368 Iin?
FLAG 144 -400 pos
FLAG 144 -304 neg
FLAG 640 -416 pos
FLAG 640 -320 neg
FLAG 1072 -544 C1?
FLAG 1152 -608 pos
FLAG 1152 -512 neg
FLAG 1072 -320 C2?
FLAG 1152 -384 pos
FLAG 1152 -288 neg
FLAG 1600 -400 pos
FLAG 1600 -304 neg
FLAG 592 -208 Iin
FLAG 1568 -224 Iref
FLAG 736 272 VC1
IOPIN 736 272 Out
FLAG 976 272 VC2
IOPIN 976 272 Out
SYMBOL cktsym\\pmos4 368 48 R0
SYMATTR InstName M1
SYMATTR Value2 l={2*A} w={6*A}
SYMBOL cktsym\\pmos4 592 48 R0
SYMATTR InstName M2
SYMATTR Value2 l={2*A} w={6*A}
SYMBOL cktsym\\pmos4 1344 48 R0
SYMATTR InstName M4
SYMATTR Value2 l={2*A} w={6*A}
SYMBOL cktsym\\pmos4 1568 48 R0
SYMATTR InstName M5
SYMATTR Value2 l={2*A} w={6*A}
SYMBOL cktsym\\pmos4 1808 48 R0
SYMATTR InstName M6
SYMATTR Value2 l={2*A} w={6*A}
SYMBOL cap 768 368 R0
SYMATTR InstName C1
SYMATTR Value 10p
SYMBOL cap 912 368 R0
SYMATTR InstName C2
SYMATTR Value 10p
SYMBOL cktsym\\nmos4 640 400 R0
SYMATTR InstName M24
SYMATTR Value2 l={2*A} w={24*A}
SYMBOL cktsym\\nmos4 1040 400 R180
SYMATTR InstName M28
SYMATTR Value2 l={2*A} w={24*A}
SYMBOL cktsym\\pmos4 848 48 R0
SYMATTR InstName M3
SYMATTR Value2 l={2*A} w={6*A}
SYMBOL NAND 144 -576 R0
SYMATTR InstName X1
SYMATTR SpiceLine nmosL={2*A} pmosL={2*A} nmosW={3*A} pmosW={6*A}
SYMBOL Inverter 896 -448 R0
SYMATTR InstName X2
SYMATTR SpiceLine nmosL={2*A} pmosL={2*A} nmosW={3*A} pmosW={6*A}
SYMBOL NAND 144 -352 R0
SYMATTR InstName X3
SYMATTR SpiceLine nmosL={2*A} pmosL={2*A} nmosW={3*A} pmosW={6*A}
SYMBOL NAND 640 -368 R0
SYMATTR InstName X4
SYMATTR SpiceLine nmosL={2*A} pmosL={2*A} nmosW={3*A} pmosW={6*A}
SYMBOL NAND 1152 -560 R0
SYMATTR InstName X5
SYMATTR SpiceLine nmosL={2*A} pmosL={2*A} nmosW={3*A} pmosW={6*A}
SYMBOL NAND 1152 -336 R0
SYMATTR InstName X6
SYMATTR SpiceLine nmosL={2*A} pmosL={2*A} nmosW={3*A} pmosW={6*A}
SYMBOL NAND 1600 -352 R0
SYMATTR InstName X7
SYMATTR SpiceLine nmosL={2*A} pmosL={2*A} nmosW={3*A} pmosW={6*A}
TEXT 344 -376 Left 2 ;!(Iin to C2)
TEXT 344 -600 Left 2 ;!(Iin to C1)
TEXT 24 -712 Left 2 !.param A=0.2u
TEXT 560 -488 Left 2 ;!(Shunt Iin to Gnd)
TEXT 952 -472 Left 2 ;Iref
TEXT 1288 -584 Left 2 ;!(Iref to C1)
TEXT 1280 -360 Left 2 ;!(Iref to C2)
TEXT 1512 -472 Left 2 ;!(Shunt Iref to Gnd)
TEXT 544 -704 Left 2 ;Inputs: Iin, Iref, Iin?, C1?, C2?, CLC1, CLC2, pos, neg
TEXT 544 -672 Left 2 ;Outputs: VC1, VC2
